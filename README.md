# Bot Smart Scheduler

## Links

- [English version](README-EN.md)

## –ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç —Ä—É—Å—Å–∫—É—é –∏ –∞–Ω–≥–ª–æ—è–∑—ã—á–Ω—É—é —Ä–µ—á—å

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏ —Å —É–¥–æ–±—Å—Ç–≤–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏, –±–æ—Ç Smart Scheduler —Å—Ç–∞–Ω–µ—Ç –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –≤ —ç—Ç–æ–º –¥–µ–ª–µ.

![–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](https://habrastorage.org/webt/zi/ew/z0/ziewz0o0lk1ytxwd5k0bynkipka.png)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

[–ë–æ—Ç Smart Scheduler —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram.](https://t.me/SmartScheduler_bot)  
–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∏ —Ç—Ä–µ–±—É–µ–º–æ–µ –≤—Ä–µ–º—è, –∞ Smart Scheduler –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –¥–∞—Ç—É –∏ –∑–∞–¥–∞—á—É –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.  
–ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –±–æ—Ç Smart Scheduler –ø—Ä–∏—à–ª–µ—Ç –≤–∞–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.  

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

–î–∞–Ω–Ω—ã–π –±–æ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ–æ—Ä–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞—Ç—ã —á–µ–ª–æ–≤–µ–∫–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä ¬´—á–µ—Ä–µ–∑ X –º–∏–Ω—É—Ç¬ª, ¬´–≤ –±–µ–∑ –ø—è—Ç–Ω–∞–¥—Ü–∞—Ç–∏ –¥–µ—Å—è—Ç—å¬ª, ¬´–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ –ø–æ–ª –ø–µ—Ä–≤–æ–≥–æ¬ª), –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –≤—Ä–µ–º–µ–Ω–∏.  
–¢–∞–∫–∂–µ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞ ¬´–∞–±—Å–æ–ª—é—Ç–Ω–æ¬ª —Ç–æ—á–Ω–æ. –ë–æ—Ç —Å–ø–æ—Å–æ–±–µ–Ω –ø–æ–Ω—è—Ç—å —á—Ç–æ –≤—ã –∏–º–µ–ª–∏ –≤–≤–∏–¥—É –¥–∞–∂–µ **–≤ —Å–ª–æ–≤–∞—Ö —Å –æ—à–∏–±–∫–∞–º–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä ¬´—á—Ä–µ–∑ —á–∏—Ç—ã—Ä–µ –Ω–∏–¥–µ–ª–∏¬ª -> *¬´—á–µ—Ä–µ–∑ 4 –Ω–µ–¥–µ–ª–∏¬ª*).  
–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, —Ä–∞–∑–¥–µ–ª—è—è –∫–∞–∂–¥–æ–µ —Å –ø–æ–º–æ—â—å—é —Ç–æ—á–∫–∏, –∑–∞–ø—è—Ç–æ–π –∏–ª–∏ —Å–æ—é–∑–∞ "**–∏**".  

Smart Scheduler —Å–ø–æ—Å–æ–±–µ–Ω –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Ä–µ–º—è —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é *–¥–æ –º–∏–Ω—É—Ç—ã*.  
Smart Scheduler –º–æ–∂–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏–∑ **–≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π**.  
Smart Scheduler –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (¬´–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç¬ª), –∞ —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è –Ω–∏—Ö (¬´–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –¥–æ 20 —á–∞—Å–æ–≤¬ª).  
Smart Scheduler –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏, –≤–∏–¥–µ–æ –∏–ª–∏ —Ñ–∞–π–ª—ã üíæ –≤ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö.  
Smart Scheduler —Ö—Ä–∞–Ω–∏—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞ –∑–∞–¥–∞—á–∏ **—Ä–∞–∑–¥–µ–ª—å–Ω–æ** –∏ –º–æ–∂–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ –±–µ—Å–µ–¥–∞—Ö.  

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–º–∞–Ω–¥—ã:

- üóì **/list** - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —á–∞—Ç–∞.

- üóë **/del** _1, 2, ...N_ - –£–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ id.

- üóë **/del** _1-10, A-B_ - –£–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –≤ –≤–≤–µ–¥–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.

- #Ô∏è‚É£ **_/N_** - –£–¥–∞–ª—è–µ—Ç N-–Ω—É—é –∑–∞–¥–∞—á—É.

- üåê **_/tz_** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞.

–∏, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, /start –∏ /help.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

–ü—Ä–µ–∂–¥–µ —á–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:  
1. **ENABLE_LOGS**: "true" –∏–ª–∏ "false", –≤–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.  
2. **ENABLE_SCHEDULES_CHEKING**: "true" –∏–ª–∏ "false", –≤–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.  
3. **TZ**: —Ç–æ–ª—å–∫–æ "GMT".  
4. **DATABASE_URL** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  
5. **SMART_SCHEDULER_DB_URL** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostreSQL.  
6. **IS_HEROKU**: "true" –∏–ª–∏ "false". –ï—Å–ª–∏ **true**, —Ç–æ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **DATABASE_URL**, –∏–Ω–∞—á–µ **SMART_SCHEDULER_DB_URL**.  
7. **SMART_SCHEDULER_TLGRM_API_TOKEN**: —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º–µ.  
  
–î–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):  

8. **YC_API_KEY**: Yandex api key.  
9. **YC_FOLDER_ID**: Yandex catalog id.  

–ï—Å–ª–∏ –Ω–µ —É–∫–∑–∞–∞—Ç—å —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ç–æ –±–æ—Ç –Ω–µ –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.  

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

```
$ git clone https://github.com/alordash/BotSmartScheduler
$ cd BotSmartScheduler
$ npm install
$ node ./BotCode/index.js
```

### –ò—Å–ø–æ–ª—å–∑—É—è heroku

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç [github](https://github.com/join).  
2. –î–æ–±–∞–≤—å—Ç–µ [—ç—Ç–æ—Ç](https://github.com/alordash/BotSmartScheduler) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ —Å–µ–±–µ.  
3. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç [heroku](https://signup.heroku.com/).  
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ [heroku –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](https://dashboard.heroku.com/new-app).  
5. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.  
6. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ [—ç—Ç–æ–π —Å—Å—ã–ª–∫–µ](https://elements.heroku.com/addons/heroku-postgresql).  
7. –ù–∞–∂–º–∏—Ç–µ **Install Heroku Postgres**.  
8. –í –ø–æ—è–≤–∏–≤—à–µ–π—Å—è —Å—Ç—Ä–æ–∫–µ –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞–∂–º–∏—Ç–µ **Provision add-on**.  
9. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Settings** —Å–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
10. –ù–∞–∂–º–∏—Ç–µ **Reveal Config Vars**.  
11. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã.  
12. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Deploy**.  
13. –í –ø–æ–ª–µ **Deployment method** –≤—ã–±–µ—Ä–∏—Ç–µ **GitHub**.  
14. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–≤–æ–π github –∞–∫–∫–∞—É–Ω—Ç –∫ —Ö–µ—Ä–æ–∫—É –Ω–∞–∂–∞–≤ **Connect to GitHub**.  
15. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ *–≤–∞—à* —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –Ω–∞–∂–º–∏—Ç–µ **connect**.  
16. –ù–∞–∂–º–∏—Ç–µ **Deploy Branch**.  
17. –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Resources**.  
18. –û—Ç–∫–ª—é—á–∏—Ç–µ **web**, –≤–∫–ª—é—á–∏—Ç–µ **worker**.  
–í–∞—à –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.
